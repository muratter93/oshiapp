{% extends "dashboard/dashboard_base.html" %}
{% load static %}

{% block title %}グッズ管理一覧{% endblock %}
{% block content_title %}グッズ管理一覧{% endblock %}
{% block content_meta %}{% endblock %}

{% block content %}
<div class="admin-admins">  {# ← 他一覧と同じ構造 #}
  <div class="card">
    <div class="table-wrap">
      <table class="admin-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>画像</th>
            <th>名前</th>
            <th>必要スタポ</th>
            <th>在庫</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          {% for item in goods_list %}
          <tr>
            <td>{{ item.id }}</td>
            <td>
              {% if item.image %}
                <img src="{{ item.image.url }}" alt="{{ item.name }}" width="60" style="border-radius: 4px;">
              {% else %}
                <img src="{% static 'img/no_image.png' %}" alt="no image" width="60" style="border-radius: 4px;">
              {% endif %}
            </td>
            <td>{{ item.name }}</td>
            <td>{{ item.required_stanning_points }}</td>
            <td>{{ item.stock }}</td>
            <td class="actions">
              <div class="action-row">
                <a href="{% url 'goods:goods_admin_edit' item.id %}" class="btn btn-edit">編集</a>
                <a href="{% url 'goods:goods_admin_delete' item.id %}"
                   class="btn btn-danger"
                   onclick="return confirm('本当に削除しますか？');">削除</a>
              </div>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6" class="subtle">登録されたグッズはありません。</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <div style="margin-top: 16px;">
    <a href="{% url 'goods:goods_admin_add' %}" class="btn btn-edit">＋ 新しいグッズを登録</a>
  </div>
</div>
{% endblock %}
