{% extends "common/base.html" %}
{% load static %}

{% block title %}グッズ交換{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/goods.css' %}">
{% endblock %}

{% block content %}
<div id="goods_main_center">

  <!-- カートアイコン -->
  <a href="{% url 'goods:cart_view' %}" class="cart-icon">
  🛒
  {% if total_quantity > 0 %}
    <span class="cart-badge">{{ total_quantity }}</span>
  {% endif %}
  </a>


  <h1>グッズ交換一覧</h1>

  <div class="goods_grid">
  {% for goods in goods_list %}
    <div class="goods_card">
      <!-- ここでリンクを追加 -->
      <a href="{% url 'goods:goods_detail' goods.id %}">
        {% if goods.image %}
          <img src="{{ goods.image.url }}" alt="{{ goods.name }}" class="goods_img">
        {% else %}
          <img src="{% static 'img/no_image.png' %}" alt="{{ goods.name }}" class="goods_img">
        {% endif %}
      </a>

      <h3>{{ goods.name }}</h3>
      <p>必要スタポ：{{ goods.required_stanning_points }} pt</p>
      <a href="{% url 'goods:add_to_cart' goods.id %}" class="goods_btn">交換</a>
    </div>
  {% endfor %}
</div>

</div>
{% endblock %}
