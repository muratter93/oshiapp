{% extends "common/base.html" %}
{% load static %}

{% block title %}住所確認{% endblock %}

{% block extra_head %}
<style>
/* 中央部分の余白調整 */
#main_center {
    padding-top: 100px;
    padding-left: 20px;
    padding-right: 20px;
}

/* カート内容リスト */
.checkout-cart {
    margin-top: 20px;
    list-style: none;
    padding: 0;
}

.checkout-cart li {
    padding: 8px 0;
    border-bottom: 1px solid #ddd;
}

/* 確定ボタン */
.checkout-btn {
    display: inline-block;
    margin-top: 20px;
    padding: 10px 15px;
    background-color: #007bff;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    border: none;
    cursor: pointer;
}

.checkout-btn:hover {
    background-color: #0056b3;
}

/* 戻るリンク */
.back-link {
    display: inline-block;
    margin-top: 10px;
    text-decoration: none;
    color: #007bff;
}

.back-link:hover {
    text-decoration: underline;
}
</style>
{% endblock %}

{% block content %}
<h2>住所確認ページ</h2>

<p><strong>名前:</strong> {{ member.name }}</p>
<p><strong>郵便番号:</strong> {{ member.postal_code }}</p>
<p><strong>住所:</strong> {{ member.address }}</p>
<p><strong>電話番号:</strong> {{ member.phone }}</p>

<h3>カート内容</h3>
<ul class="checkout-cart">
    {% for item in cart_items %}
        <li>{{ item.goods.name }} × {{ item.quantity }}個（{{ item.get_required_stanning_points }}スタポ）</li>
    {% endfor %}
</ul>

<p><strong>合計スタポ:</strong> {{ total_stanning }}</p>
<p><strong>現在のウォレット残高:</strong> {{ wallet.stanning_point_balance }}スタポ</p>

<form method="post" action="{% url 'goods:confirm_exchange' %}">
    {% csrf_token %}
    <button type="submit" class="checkout-btn">交換を確定する</button>
</form>

<a href="{% url 'goods:cart_view' %}" class="back-link">← カートに戻る</a>
{% endblock %}
