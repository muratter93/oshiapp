{% extends "dashboard/dashboard_base.html" %}
{% block title %}飼育員編集{% endblock %}
{% block content_title %}飼育員を編集{% endblock %}

{% block content %}
<div class="card staff-edit">
  <div class="container">

    {% if form.non_field_errors %}
      <div class="form-errors">
        {% for error in form.non_field_errors %}
          <p>{{ error }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <form method="post" novalidate>
      {% csrf_token %}
      <div class="form-grid">

        <label>
          ユーザー名（変更不可）
          <div class="readonly-box">{{ target_user.username }}</div>
        </label>

        <label>メール {{ form.email }}</label>
        
        <details class="optional-section" style="margin-top:8px;">
          <summary class="optional-summary">追加のプロフィール情報</summary>

          <div class="optional-grid" style="display:grid; gap:12px; margin-top:10px;">
            <label>氏名 {{ form.name }}</label>
            <label>郵便番号 {{ form.postal_code }}</label>
            <label>住所 {{ form.address }}</label>
            <label>電話番号 {{ form.phone }}</label>
            <label>生年月日 {{ form.birth }}</label>
          </div>
        </details>

        <label>
          所属動物園
          {{ form.zoo }}
          {% for e in form.zoo.errors %}<div class="field-error">{{ e }}</div>{% endfor %}
        </label>

        <div class="form-actions">
          <button class="btn btn-edit" type="submit">保存</button>
          <a class="btn" href="{% url 'dashboard:admins_list' %}">一覧へ戻る</a>
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock %}
