{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}管理画面{% endblock %}</title>

  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">


  {% block extra_css %}{% endblock %}
  {% block extra_head %}{% endblock %}
</head>
<body>
  <div class="layout">
<!-- 左メニュー -->
<aside class="sidebar">
<div>
<h2>
  <a class="nav-link" href="{% url 'dashboard:dashboard' %}">
    {% block sidebar_title %}管理メニュー{% endblock %}
  </a>
</h2>
<ul class="nav">
{% block sidebar %}
  {% if request.user.is_superuser or request.user.is_staff %}
    <li class="menu-section"><span class="menu-icon">▶</span> ユーザー管理</li>
    <ul class="menu-items">
      <li><a href="{% url 'dashboard:member_list' %}">会員一覧</a></li>
    </ul>

    <li class="menu-section"><span class="menu-icon">▶</span> サブスク管理</li>
    <ul class="menu-items">
      <li><a href="{% url 'dashboard:subscription_list' %}">加入状況一覧</a></li>
    </ul>

    <li class="menu-section"><span class="menu-icon">▶</span> グッズ管理</li>
    <ul class="menu-items">
      <li><a href="{% url 'goods:goods_admin_list' %}">グッズ一覧</a></li>
      <li><a href="{% url 'goods:goods_admin_add' %}">新しいグッズを登録</a></li>
    </ul>

    <li class="menu-section"><span class="menu-icon">▶</span> 注文管理</li>
    <ul class="menu-items">
      <li><a href="{% url 'goods:admin_order_list' %}">注文一覧</a></li>
    </ul>

    <li class="menu-section"><span class="menu-icon">▶</span> 動物管理</li>
    <ul class="menu-items">
      <li><a href="{% url 'dashboard:animals_list' %}">動物一覧</a></li>
      <li><a href="{% url 'dashboard:animal_create' %}">新しい動物を登録</a></li>
    </ul>

    <li class="menu-section"><span class="menu-icon">▶</span> 管理者管理</li>
    <ul class="menu-items">
      <li><a href="{% url 'dashboard:admins_list' %}">管理者一覧</a></li>
      {% if request.user.is_superuser %}
        <li><a href="{% url 'dashboard:staff_create' %}">新しい管理者を登録</a></li>
      {% endif %}
      <li><a href="{% url 'dashboard:keeper_create' %}">新しい飼育員を登録</a></li>
    </ul>

  {% elif request.user.is_keeper %}

    <li class="menu-section"><span class="menu-icon">▶</span> サブスク管理</li>
    <ul class="menu-items">
      <li><a href="{% url 'dashboard:subscription_list' %}">加入状況一覧</a></li>
    </ul>

    <li class="menu-section"><span class="menu-icon">▶</span> 動物管理</li>
    <ul class="menu-items">
      <li><a href="{% url 'dashboard:animals_list' %}">動物一覧</a></li>
      <li><a href="{% url 'dashboard:animal_create' %}">新しい動物を登録</a></li>
    </ul>
  {% endif %}
{% endblock %}
</ul>
      </div>

        <div class="sidebar-footer">
        {% block sidebar_footer %}
        <a href="{% url 'main:index' %}" class="btn">トップページへ戻る</a>
        {% endblock %}
</div>
    </aside>

    <!-- 右側メイン領域 -->
    <main class="main">
      <header class="header">
        <h1>{% block content_title %}ダッシュボード{% endblock %}</h1>
        {% block content_meta %}{% endblock %}
      </header>

      <section class="container">
        {% block content %}{% endblock %}
      </section>
    </main>
  </div>

  {% block extra_js %}{% endblock %}
</body>
<script src="{% static 'js/dashboard.js' %}"></script>

</html>
