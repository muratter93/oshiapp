{% extends "common/base.html" %}
{% load humanize %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">

<div class="index">
  <div class="index-main">
    <div class="animal-grid">
      {% for a in animals %}
        <article class="animal-card" data-id="{{ a.animal_id }}">
          <div class="animal-media carousel">
            {% if a.pic1 %}<img src="{{ a.pic1.url }}" alt="{{ a.japanese }}" class="slide active">{% endif %}
            {% if a.pic2 %}<img src="{{ a.pic2.url }}" alt="{{ a.japanese }}" class="slide">{% endif %}
            {% if not a.pic1 and not a.pic2 %}<img src="{% static 'img/noimage-4x3.png' %}" alt="画像なし" class="slide active">{% endif %}

            {% if a.animal_id == 1 %}
              <span class="oshi-label">💖推し💖</span>
            {% endif %}

            <div class="media-overlay">
              <p class="media-title">{{ a.japanese }}</p>
              <p class="media-sub">
                {{ a.name }}
                <span class="animal-age">
                  {% if a.age %}{{ a.age }}歳{% else %}（年齢不明）{% endif %}
                  {% if a.sex == "M" %} ♂{% elif a.sex == "F" %} ♀{% else %} 不明{% endif %}
                </span>
              </p>
            </div>

            <div class="dots"></div>
          </div>

          <div class="card-actions">
            <span class="oshii-badge">推しP：<span class="point">{{ a.total_point }}</span></span>
            <a class="intro-btn" href="/animals/{{ a.animal_id }}/">紹介</a>
            <button class="push-btn" data-id="{{ a.animal_id }}">推し❤</button>
          </div>
        </article>
      {% endfor %}
    </div>

    {% include "ranking/top.html" %}
  </div>

  <a href="{% url 'dashboard_login' %}">管理者ログインページへ</a>


  {% include "pages/about.html" %}
</div>

<script src="{% static 'js/main.js' %}"></script>

{% endblock %}